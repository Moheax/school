
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="style.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<script type="text/javascript" src="lyricer.min.js"></script>
		<link rel="stylesheet" href="lyricer.min.css">
		<title>Now I'm up to My Neck with Offers</title>
	</head>

	<body class="global">
		<div class="global">
			<div class="top">
				<audio controls id="audio" autoplay="">
					<source src="song.mp3" type="audio/mpeg">
				</audio>
				<div>
					<h1>Now I'm up to My Neck with Offers · $uicideboy$ · Scott Arceneaux Jr · Aristos Petrou</h1>
					<img class="image" draggable="false" src="NowImUpToMyNeckWithOffers.png">
					<div class="social-icons">
						<button class="musicButton"  id="buttonA" onclick="playPause()"><i class="fa fa-play"></i></button>
						<button class="musicButton"  id="buttonB" onclick="playPause()"><i class="fa fa-pause"></i></button>
					</div>
				</div>

				<div class="info">
					<span style="float:left;" id="duration">0:00</span>
					<span style="float:right;" id="timeleft">01:46</span>
				</div>
				<div id="progress" style="width: 0.0%;">
				</div>
				<div id="lyricer"></div>
			</div>
		</div>

		<script>
			// hide button B
			var x = document.getElementById("buttonB");
			x.style.display = "none";
			document.getElementById('audio').pause()
			// switch between buttons and play / pause audio
			function playPause() {
			var x = document.getElementById("buttonA");
			if (x.style.display === "none") 
			{
				x.style.display = "inline-block";
			} 
			else 
			{
				document.getElementById('audio').play()
				x.style.display = "none";
			}
			var x = document.getElementById("buttonB");
			if (x.style.display === "none") 
			{
				x.style.display = "inline-block";
			} 
			else 
			{
				document.getElementById('audio').pause()
				x.style.display = "none";
			}
			}
		</script>
		<script type="text/javascript">
			var timer;
			var percent = 0;
			var audio = document.getElementById("audio");

			audio.addEventListener("playing", function(_event) {
				var duration = _event.target.duration;
				advance(duration, audio);
			});

			audio.addEventListener("pause", function(_event) {
				clearTimeout(timer);
			});

			var advance = function(duration, element) {
				var progress = document.getElementById("progress");
				increment = 10/duration
				percent = Math.min(increment * element.currentTime * 10, 100);
				progress.style.width = percent+'%'
				startTimer(duration, element);
			}

			var startTimer = function(duration, element){ 
				if(percent < 100) {
					timer = setTimeout(function (){advance(duration, element)}, 100);
			  }
			}

			function togglePlay (e) {
				e = e || window.event;
				var btn = e.target;

				if (!audio.paused) {
					btn.classList.remove('active');
					audio.pause();
					isPlaying = false;
				} else {
					btn.classList.add('active');
					audio.play();
					isPlaying = true;
				}
			}

			var audio = document.getElementById("audio");

			// Countdown
			audio.addEventListener("timeupdate", function() {
				var timeleft = document.getElementById('timeleft'),
					duration = parseInt( audio.duration ),
					currentTime = parseInt( audio.currentTime ),
					timeLeft = duration - currentTime,
					s, m;
				
				
				s = timeLeft % 60;
				m = Math.floor( timeLeft / 60 ) % 60;
				
				s = s < 10 ? "0"+s : s;
				m = m < 10 ? "0"+m : m;
				
				timeleft.innerHTML = m+":"+s;
				
			}, false);

			// Countup
			audio.addEventListener("timeupdate", function() {
				var timeline = document.getElementById('duration');
				var s = parseInt(audio.currentTime % 60);
				var m = parseInt((audio.currentTime / 60) % 60);

				if (s < 10) {
					timeline.innerHTML = m + ':0' + s;
				}
				else {
					timeline.innerHTML = m + ':' + s;
				}
			}, false);
		</script>
		
		<script type="text/javascript">
			var lyrics = `
			
			`;

			var lrc = new Lyricer({"showLines": 0, "clickable": false});

			lrc.setLrc(lyrics);
			window.addEventListener("lyricerclick", function(e){
			});

			var timeOffset = 0;
			var audio = document.getElementById('audio');

			audio.addEventListener( "timeupdate", function() {
				lrc.move(audio.currentTime + timeOffset);
			});
			window.addEventListener('lyricerclick', function(e){
				if (e.detail.time > 0) {
					audio.currentTime = e.detail.time;
				}
			});
		</script>

		

		